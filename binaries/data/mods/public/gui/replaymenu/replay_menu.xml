<?xml version="1.0" encoding="utf-8"?>

<objects>

	<script directory="gui/common/"/>
	<script directory="gui/replaymenu/" />

	<!-- Everything displayed in the replay menu. -->
	<object type="image" style="ModernWindow" size="0 0 100% 100%" name="replayWindow">

		<!-- Title -->
		<object style="ModernLabelText" type="text" size="50%-128 4 50%+128 36">
			<translatableAttribute id="caption">Replay Games</translatableAttribute>
		</object>

		<!-- Left Panel: Filters & Replay List -->
		<object name="leftPanel" size="3% 5% 100%-255 100%-80">

			<!-- Filters -->
			<object name="filterPanel" size="0 0 100% 24">

				<object name="dateTimeFilter" type="dropdown" style="ModernDropDown" size="5 0 12%-10 100%" font="sans-bold-13">
					<action on="SelectionChange">displayReplayList();</action>
				</object>

				<object name="playersFilter" type="input" style="ModernInput" size="12%-5 0 56%-10 100%" font="sans-bold-13">
					<action on="Press">displayReplayList();</action>
					<action on="Tab">
						autoCompleteNick(this, g_Playernames);
					</action>
				</object>

				<object name="mapNameFilter" type="dropdown" style="ModernDropDown" size="56%-5 0 70%-10 100%" font="sans-bold-13">
					<action on="SelectionChange">displayReplayList();</action>
				</object>

				<object name="mapSizeFilter" type="dropdown" style="ModernDropDown" size="70%-5 0 80%-10 100%" font="sans-bold-13">
					<action on="SelectionChange">displayReplayList();</action>
				</object>

				<object name="populationFilter" type="dropdown" style="ModernDropDown" size="80%-5 0 90%-10 100%" font="sans-bold-13">
					<action on="SelectionChange">displayReplayList();</action>
				</object>

				<object name="durationFilter" type="dropdown" style="ModernDropDown" size="90%-5 0 100%-10 100%" font="sans-bold-13">
					<action on="SelectionChange">displayReplayList();</action>
				</object>

			</object>

			<!-- Replay List in that left panel -->
			<object name="replaySelection"
				size="0 35 100% 100%-24"
				type="olist"
				style="ModernSortedList"
				sortable="true"
				selected_column="months"
				selected_column_order="-1"
				font="sans-stroke-13"
				auto_scroll="true"
			>

				<action on="SelectionChange">displayReplayDetails();</action>
				<action on="SelectionColumnChange">displayReplayList();</action>
				<action on="mouseleftdoubleclickitem">startReplay();</action>

				<!-- Columns -->
				<column id="months" color="172 172 212" width="12%">
					<translatableAttribute id="heading" context="replay">Date / Time</translatableAttribute>
				</column>

				<column id="players" color="192 192 192" width="44%">
					<translatableAttribute id="heading" context="replay">Players</translatableAttribute>
				</column>

				<column id="mapName" color="192 192 192" width="14%">
					<translatableAttribute id="heading" context="replay">Map Name</translatableAttribute>
				</column>

				<column id="mapSize" color="192 192 192" width="10%">
					<translatableAttribute id="heading" context="replay">Size</translatableAttribute>
				</column>

				<column id="popCapacity" color="192 192 192" width="10%">
					<translatableAttribute id="heading" context="replay">Population</translatableAttribute>
				</column>

				<column id="duration" color="192 192 192" width="10%">
					<translatableAttribute id="heading" context="replay">Duration</translatableAttribute>
				</column>

			</object>

			<!-- Filename -->
			<object name="replayFilename" type="input" size="0 100%-24 100% 100%" style="ModernInput" readonly="true" font="sans-14" sprite="ReplayMenuFilenameBackground"/>

		</object>

		<!-- Right Panel: Compatibility Filter & Replay Details -->
		<object name="rightPanel" size="100%-250 30 100%-20 100%-20" >

			<!-- Compatibility Filter Checkbox -->
			<object name="compatibilityFilter" type="checkbox" checked="true" style="ModernTickBox" size="0 4 20 100%">
					<action on="Press">displayReplayList();</action>
			</object>

			<!-- Compatibility Filter Label -->
			<object type="text" size="20 2 100% 100%" text_align="left" textcolor="white">
				<translatableAttribute id="caption">Filter compatible replays</translatableAttribute>
			</object>

			<!-- Singleplayer / Multiplayer Filter -->
			<object name="singleplayerFilter" type="dropdown" style="ModernDropDown" size="0 30 100% 55" font="sans-bold-13">
				<action on="SelectionChange">displayReplayList();</action>
			</object>

			<!-- Victory Condition Filter -->
			<object name="victoryConditionFilter" type="dropdown" style="ModernDropDown" size="0 60 100% 85" font="sans-bold-13">
				<action on="SelectionChange">displayReplayList();</action>
			</object>

			<!-- Rated Games Filter -->
			<object name="ratedGamesFilter" type="dropdown" style="ModernDropDown" size="0 90 100% 115" font="sans-bold-13">
				<action on="SelectionChange">displayReplayList();</action>
			</object>

			<!-- Placeholder to show if no replay is selected -->
			<object name="replayInfoEmpty" size="0 120 100% 100%-60" type="image" sprite="ModernDarkBoxGold" hidden="false">
				<object name="logo" size="50%-110 40 50%+110 140" type="image" sprite="logo"/>
				<object name="subjectBox" type="image" sprite="ModernDarkBoxWhite" size="3% 180 97% 99%">
					<object name="subject" size="5 5 100%-5 100%-5" type="text" style="ModernText" text_align="center"/>
				</object>
			</object>

			<!-- Right panel: Replay details -->
			<object name="replayInfo" size="0 120 100% 100%-60" type="image" sprite="ModernDarkBoxGold" hidden="true">

				<!-- Map Name Label -->
				<object name="sgMapName" size="0 5 100% 20" type="text" style="ModernLabelText"/>

				<!-- Map Preview Image -->
				<object name="sgMapPreview" size="5 25 100%-5 190"  type="image" sprite=""/>

				<!-- Separator Line -->
				<object size="5 194 100%-5 195" type="image" sprite="ModernWhiteLine" z="25"/>

				<!-- Map Type Caption -->
				<object size="5 195 50% 225" type="image" sprite="ModernItemBackShadeLeft">
					<object size="0 0 100%-10 100%" type="text" style="ModernRightLabelText">
						<translatableAttribute id="caption">Map Type:</translatableAttribute>
					</object>
				</object>

				<!-- Map Type Label -->
				<object size="50% 195 100%-5 225" type="image" sprite="ModernItemBackShadeRight">
					<object name="sgMapType" size="0 0 100% 100%" type="text" style="ModernLeftLabelText"/>
				</object>

				<!-- Separator Line -->
				<object size="5 224 100%-5 225" type="image" sprite="ModernWhiteLine" z="25"/>

				<!-- Map Size Caption -->
				<object size="5 225 50% 255" type="image" sprite="ModernItemBackShadeLeft">
					<object size="0 0 100%-10 100%" type="text" style="ModernRightLabelText">
						<translatableAttribute id="caption">Map Size:</translatableAttribute>
					</object>
				</object>

				<!-- Map Size Label -->
				<object size="50% 225 100%-5 255" type="image" sprite="ModernItemBackShadeRight">
					<object name="sgMapSize" size="0 0 100% 100%" type="text" style="ModernLeftLabelText"/>
				</object>

				<!-- Separator Line -->
				<object size="5 254 100%-5 255" type="image" sprite="ModernWhiteLine" z="25"/>

				<!-- Victory Condition Caption -->
				<object size="5 255 50% 295" type="image" sprite="ModernItemBackShadeLeft">
					<object size="0 0 100%-10 100%" type="text" style="ModernRightLabelText">
						<translatableAttribute id="caption">Victory:</translatableAttribute>
					</object>
				</object>

				<!-- Victory Condition Label -->
				<object size="50% 255 100%-5 295" type="image" sprite="ModernItemBackShadeRight">
					<object name="sgVictory" size="0 0 100% 100%" type="text" style="ModernText" font="sans-bold-stroke-14"/>
				</object>

				<!-- Separator Line -->
				<object size="5 294 100%-5 295" type="image" sprite="ModernWhiteLine" z="25"/>

				<!-- Map Description Text -->
				<object type="image" sprite="ModernDarkBoxWhite" size="5 300 100%-5 40%+170">
					<object name="sgMapDescription" size="0 1 100% 100%-1" type="text" style="ModernText" font="sans-12"/>
				</object>

				<object type="image" sprite="ModernDarkBoxWhite" size="5 40%+175 100%-5 100%-30">

					<!-- Number of Players -->
					<object name="sgNbPlayers" size="0 3 100% 18" type="text" style="ModernLabelText" />

					<!-- Player Names -->
					<object name="sgPlayersNames" size="0 19 100% 100%-1" type="text" style="MapPlayerList"/>
				</object>

				<!-- "Show Spoiler" Checkbox -->
				<object name="showSpoiler" type="checkbox" checked="false" style="ModernTickBox" size="10 100%-27 30 100%">
					<action on="Press">displayReplayDetails();</action>
				</object>

				<!-- "Show Spoiler" Label -->
				<object type="text" size="30 100%-28 100% 100%" text_align="left" textcolor="white">
					<translatableAttribute id="caption">Spoiler</translatableAttribute>
				</object>

			</object>
		</object>


		<!-- Bottom Panel: Buttons. -->
		<object name="bottomPanel" size="25 100%-55 100%-5 100%-25" >

			<!-- Main Menu Button -->
			<object type="button" style="StoneButton" size="25 0 17%+25 100%">
				<translatableAttribute id="caption">Main Menu</translatableAttribute>
				<action on="Press">Engine.SwitchGuiPage("page_pregame.xml");</action>
			</object>

			<!-- Delete Button -->
			<object name="deleteReplayButton" type="button" style="StoneButton" size="20%+25 0 37%+25 100%" hotkey="session.savedgames.delete">
				<translatableAttribute id="caption">Delete</translatableAttribute>
				<action on="Press">deleteReplayButtonPressed();</action>
			</object>

			<!-- Reload Cache Button -->
			<object type="button" style="StoneButton" size="40%+25 0 57%+25 100%">
				<translatableAttribute id="caption">Reload Cache</translatableAttribute>
				<translatableAttribute id="tooltip">Rebuild the replay cache from scratch. Potentially slow!</translatableAttribute>
				<action on="Press">reloadCache();</action>
			</object>

			<!-- Summary Button -->
			<object name="summaryButton" type="button" style="StoneButton" size="65%-50 0 82%-50 100%" hotkey="summary">
				<translatableAttribute id="caption">Summary</translatableAttribute>
				<action on="Press">showReplaySummary();</action>
			</object>

			<!-- Start Replay Button -->
			<object name="startReplayButton" type="button" style="StoneButton" size="83%-25 0 100%-25 100%">
				<translatableAttribute id="caption">Start Replay</translatableAttribute>
				<action on="Press">startReplay();</action>
			</object>

		</object>
	</object>
</objects>
